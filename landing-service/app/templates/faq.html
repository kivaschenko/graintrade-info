{% extends "base.html" %}

{% block title %}{{ t.nav.faq }} - {{ t.site_title }}{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header">
    <div class="container">
        <h1 class="page-title">{{ t.faq.title }}</h1>
        <p class="page-subtitle">{{ t.faq.subtitle }}</p>
        <nav class="breadcrumb">
            <a href="?lang={{ lang }}">{{ t.nav.home }}</a>
            <span>/</span>
            <span>{{ t.nav.faq }}</span>
        </nav>
    </div>
</section>

<!-- FAQ Section -->
<section class="section">
    <div class="container">
        <div class="faq-container">
            <div class="faq-sidebar">
                <h3>{{ t['faq']['categories']['title'] }}</h3>
                <ul class="faq-categories">
                    <li><a href="#getting-started" class="faq-category-link active">{{ t['faq']['categories']['getting_started'] }}</a></li>
                    <li><a href="#subscription-plans" class="faq-category-link">{{ t['faq']['categories']['subscription_plans'] }}</a></li>
                    <li><a href="#platform-services" class="faq-category-link">{{ t['faq']['categories']['platform_services'] }}</a></li>
                    <li><a href="#technical" class="faq-category-link">{{ t['faq']['categories']['technical'] }}</a></li>
                </ul>
            </div>
            
            <div class="faq-content">
                <div class="faq-section" id="getting-started">
                    <h2 class="faq-section-title">{{ t['faq']['sections']['getting_started']['title'] }}</h2>
                    {% for item in t['faq']['items'] %}
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ item.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ item.answer }}</p>
                        </div>
                    </div>
                    {% endfor %}
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.getting_started.what_is_graintrade.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.getting_started.what_is_graintrade.answer }}</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.getting_started.how_does_it_work.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.getting_started.how_does_it_work.answer }}</p>
                        </div>
                    </div>
                    
                    <!-- Additional FAQ items for English version -->
                    {% if lang == 'en' %}
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.getting_started.mobile_devices.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.getting_started.mobile_devices.answer }}</p>
                        </div>
                    </div>
                    {% endif %}
                </div>
                
                <div class="faq-section" id="subscription-plans">
                    <h2 class="faq-section-title">{{ t.faq.sections.subscription_plans.title }}</h2>
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.subscription_plans.what_plans.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.subscription_plans.what_plans.answer.intro }}</p>
                            <ul>
                                <li><strong>{{ t.faq.sections.subscription_plans.what_plans.answer.free_plan }}</strong></li>
                                <li><strong>{{ t.faq.sections.subscription_plans.what_plans.answer.basic_plan }}</strong></li>
                                <li><strong>{{ t.faq.sections.subscription_plans.what_plans.answer.premium_plan }}</strong></li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.subscription_plans.map_services.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.subscription_plans.map_services.answer }}</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.subscription_plans.email_notifications.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.subscription_plans.email_notifications.answer }}</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.subscription_plans.crypto_payments.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.subscription_plans.crypto_payments.answer }}</p>
                        </div>
                    </div>
                </div>
                
                <div class="faq-section" id="platform-services">
                    <h2 class="faq-section-title">{{ t.faq.sections.platform_services.title }}</h2>
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.platform_services.handle_transactions.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p><strong>{{ t.faq.sections.platform_services.handle_transactions.answer.emphasis }}</strong> {{ t.faq.sections.platform_services.handle_transactions.answer.description }}</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.platform_services.payment_methods.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.platform_services.payment_methods.answer }}</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.platform_services.trustworthy_trader.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.platform_services.trustworthy_trader.answer }}</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.platform_services.international_trading.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.platform_services.international_trading.answer }}</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.platform_services.usage_limits.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.platform_services.usage_limits.answer }}</p>
                        </div>
                    </div>
                    <!-- New FAQ item about messengers -->
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.platform_services.messengers.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.platform_services.messengers.answer }}</p>
                        </div>
                    </div>
                    <!-- New FAQ item about API access -->
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.platform_services.api_access.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.platform_services.api_access.answer }}</p>
                        </div>
                    </div>
                    <!-- New FAQ item about analytics reports -->
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.platform_services.analytics_reports.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.platform_services.analytics_reports.answer }}</p>
                        </div>
                    </div>
                </div>
                <div class="faq-section" id="technical">
                    <h2 class="faq-section-title">{{ t.faq.sections.technical.title }}</h2>
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.technical.uploading_photos.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.technical.uploading_photos.answer }}</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.technical.account_settings.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.technical.account_settings.answer }}</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.technical.notification_preferences.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.technical.notification_preferences.answer }}</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>{{ t.faq.sections.technical.map_services_limited.question }}</h3>
                            <span class="faq-toggle">
                                <i class="fas fa-plus"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>{{ t.faq.sections.technical.map_services_limited.answer }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Support Section -->
<section class="section section-alt">
    <div class="container">
        <div class="support-section">
            <h2 class="section-title">{{ t.faq.contact_support.title }}</h2>
            <p class="section-subtitle">{{ t.faq.contact_support.subtitle }}</p>
            
            <div class="support-options">
                <div class="support-option">
                    <div class="support-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h3>{{ t.faq.contact_support.email.title }}</h3>
                    <p>{{ t.faq.contact_support.email.description }}</p>
                    <a href="mailto:support@graintrade.info" class="btn btn-secondary">
                        {{ t.faq.contact_support.email.button }}
                    </a>
                </div>
                
                <div class="support-option">
                    <div class="support-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <h3>{{ t.faq.contact_support.phone.title }}</h3>
                    <p>{{ t.faq.contact_support.phone.description }}</p>
                    <a href="tel:+380662760451" class="btn btn-secondary">
                        {{ t.faq.contact_support.phone.button }}
                    </a>
                </div>
                
                <div class="support-option">
                    <div class="support-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3>{{ t.faq.contact_support.live_chat.title }}</h3>
                    <p>{{ t.faq.contact_support.live_chat.description }}</p>
                    <button class="btn btn-secondary" onclick="openLiveChat()">
                        {{ t.faq.contact_support.live_chat.button }}
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
// FAQ functionality
document.addEventListener('DOMContentLoaded', function() {
    const faqItems = document.querySelectorAll('.faq-item');
    const categoryLinks = document.querySelectorAll('.faq-category-link');
    
    // FAQ toggle functionality
    faqItems.forEach(item => {
        const question = item.querySelector('.faq-question');
        const answer = item.querySelector('.faq-answer');
        const toggle = item.querySelector('.faq-toggle i');
        
        question.addEventListener('click', () => {
            const isOpen = answer.style.display === 'block';
            
            // Close all other FAQ items
            faqItems.forEach(otherItem => {
                const otherAnswer = otherItem.querySelector('.faq-answer');
                const otherToggle = otherItem.querySelector('.faq-toggle i');
                otherAnswer.style.display = 'none';
                otherToggle.className = 'fas fa-plus';
            });
            
            // Toggle current item
            if (!isOpen) {
                answer.style.display = 'block';
                toggle.className = 'fas fa-minus';
            }
        });
    });
    
    // Category navigation
    categoryLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            
            // Remove active class from all links
            categoryLinks.forEach(l => l.classList.remove('active'));
            
            // Add active class to clicked link
            link.classList.add('active');
            
            // Scroll to section
            const targetId = link.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            if (targetSection) {
                targetSection.scrollIntoView({ behavior: 'smooth' });
            }
        });
    });
});

function openLiveChat() {
    // Placeholder for live chat functionality
    alert('{{ t.faq.contact_support.live_chat.coming_soon }}');
}
</script>
{% endblock %}